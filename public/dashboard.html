<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Feedback Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>ðŸ“ˆ Feedback Sentiment Dashboard</h1>
  <canvas id="sentimentChart" width="400" height="400"></canvas>

  <script>
    async function loadChart() {
      const res = await fetch('https://feedgenie-backend.onrender.com/all');
      const data = await res.json();

      const sentimentCounts = { Positive: 0, Negative: 0, Neutral: 0 };
      data.forEach(item => sentimentCounts[item.sentiment]++);

      new Chart(document.getElementById('sentimentChart'), {
        type: 'pie',
        data: {
          labels: ['Positive', 'Negative', 'Neutral'],
          datasets: [{
            data: [
              sentimentCounts.Positive,
              sentimentCounts.Negative,
              sentimentCounts.Neutral
            ],
            backgroundColor: ['#4CAF50', '#F44336', '#9E9E9E']
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { position: 'bottom' } }
        }
      });
    }

    loadChart();
  </script>
</body>
</html>
